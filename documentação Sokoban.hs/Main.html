<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Main</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Main.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Jos&#233; Carlos &lt;jcm300@live.com.pt&gt;
            S&#233;rgio &lt;stoj97@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Main</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Fun&#231;&#245;es do mooshak</a></li><li><a href="#g:2">Fun&#231;&#245;es de teste</a></li><li><a href="#g:3">Fun&#231;&#245;es Tarefas</a></li><li><a href="#g:4">Tarefa 1</a></li><li><a href="#g:5">Fun&#231;&#245;es da Tarefa 1</a></li><li><a href="#g:6">Tarefa 2</a></li><li><a href="#g:7">Fun&#231;&#245;es da Tarefa 2</a></li><li><a href="#g:8">Auxiliares da Tarefa 3</a></li><li><a href="#g:9">Tarefa 3</a></li><li><a href="#g:10">Fun&#231;&#245;es da Tarefa 3</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo contendo a realiza&#231;&#227;o de 3 tarefas referentes ao jogo Sokoban
na qual, a primeira &#233; referente a verificar se um mapa dado &#233; valido,
a segunda referente a simplicar um mapa v&#225;lido e a terceira referente
a calcular o pr&#243;ximo estado do boneco dado um certo comando.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:inStr">inStr</a> :: String -&gt; [String]</li><li class="src short"><a href="#v:outStr">outStr</a> :: [String] -&gt; String</li><li class="src short"><a href="#v:correTestes">correTestes</a> :: IO ()</li><li class="src short"><a href="#v:correTeste">correTeste</a> :: ([String] -&gt; [String]) -&gt; String -&gt; IO ()</li><li class="src short"><a href="#v:main">main</a> :: IO ()</li><li class="src short"><a href="#v:tarefa1">tarefa1</a> :: [String] -&gt; [String]</li><li class="src short"><a href="#v:tarefa1Erros">tarefa1Erros</a> :: [String] -&gt; Int</li><li class="src short"><a href="#v:parteMapa">parteMapa</a> :: [String] -&gt; ([String], [String])</li><li class="src short"><a href="#v:contaListasMapa">contaListasMapa</a> :: [String] -&gt; Int</li><li class="src short"><a href="#v:contaListasBC">contaListasBC</a> :: [String] -&gt; Int</li><li class="src short"><a href="#v:validaTab">validaTab</a> :: Int -&gt; [String] -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:verificalength">verificalength</a> :: [String] -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:validaLinhaTab">validaLinhaTab</a> :: Int -&gt; String -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:validaCoords">validaCoords</a> :: [String] -&gt; [String] -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:validaBoneco">validaBoneco</a> :: [(Int, Int)] -&gt; [(Int, Int)] -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:validaCoordsT">validaCoordsT</a> :: [String] -&gt; Int -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:sToI">sToI</a> :: String -&gt; [Int]</li><li class="src short"><a href="#v:remInc">remInc</a> :: [String] -&gt; [String]</li><li class="src short"><a href="#v:liToT">liToT</a> :: [Int] -&gt; (Int, Int)</li><li class="src short"><a href="#v:devolveCaracter">devolveCaracter</a> :: String -&gt; Int -&gt; Int -&gt; Char</li><li class="src short"><a href="#v:contalinhas">contalinhas</a> :: [String] -&gt; Int -&gt; Int -&gt; Int -&gt; String</li><li class="src short"><a href="#v:validaCaixas">validaCaixas</a> :: [String] -&gt; [String] -&gt; Int</li><li class="src short"><a href="#v:numeroPontos">numeroPontos</a> :: [String] -&gt; Int</li><li class="src short"><a href="#v:validaCaixasR">validaCaixasR</a> :: [(Int, Int)] -&gt; [(Int, Int)] -&gt; Int -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:juntaErros">juntaErros</a> :: Int -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:tarefa2">tarefa2</a> :: [String] -&gt; [String]</li><li class="src short"><a href="#v:daCoords">daCoords</a> :: Int -&gt; [String] -&gt; Int -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:removeCardinais">removeCardinais</a> :: [String] -&gt; [(Int, Int)] -&gt; [String] -&gt; [String]</li><li class="src short"><a href="#v:removedalinha">removedalinha</a> :: String -&gt; [(Int, Int)] -&gt; [String] -&gt; String</li><li class="src short"><a href="#v:devolveCaracterB">devolveCaracterB</a> :: String -&gt; Int -&gt; Int -&gt; Char</li><li class="src short"><a href="#v:contalinhasB">contalinhasB</a> :: [String] -&gt; Int -&gt; Int -&gt; String</li><li class="src short"><a href="#v:tuploCoord">tuploCoord</a> :: [String] -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:sndCoord">sndCoord</a> :: [(Int, Int)] -&gt; [Int]</li><li class="src short"><a href="#v:devCoord">devCoord</a> :: Int -&gt; [(Int, Int)] -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:colocaLetras">colocaLetras</a> :: [String] -&gt; [String] -&gt; Int -&gt; Int -&gt; [String]</li><li class="src short"><a href="#v:colocaL">colocaL</a> :: Int -&gt; String -&gt; [(Int, Int)] -&gt; String</li><li class="src short"><a href="#v:colocaO">colocaO</a> :: String -&gt; (Int, Int) -&gt; String</li><li class="src short"><a href="#v:colocaIH">colocaIH</a> :: String -&gt; (Int, Int) -&gt; String</li><li class="src short"><a href="#v:auxP">auxP</a> :: (String, String) -&gt; String</li><li class="src short"><a href="#v:auxE">auxE</a> :: (String, String) -&gt; String</li><li class="src short"><span class="keyword">data</span> <a href="#t:Command">Command</a><ul class="subs"><li>= <a href="#v:U">U</a></li><li>| <a href="#v:D">D</a></li><li>| <a href="#v:L">L</a></li><li>| <a href="#v:R">R</a></li><li>| <a href="#v:Nada">Nada</a></li></ul></li><li class="src short"><a href="#v:tarefa3">tarefa3</a> :: [String] -&gt; [String]</li><li class="src short"><a href="#v:parteMapaB">parteMapaB</a> :: [String] -&gt; ([String], [String])</li><li class="src short"><a href="#v:converteC">converteC</a> :: String -&gt; <a href="Main.html#t:Command">Command</a></li><li class="src short"><a href="#v:parteCo">parteCo</a> :: [String] -&gt; String</li><li class="src short"><a href="#v:remVazio">remVazio</a> :: [String] -&gt; [String]</li><li class="src short"><a href="#v:moveB">moveB</a> :: [String] -&gt; String -&gt; <a href="Main.html#t:Command">Command</a> -&gt; [(Int, Int)] -&gt; [String]</li><li class="src short"><a href="#v:verificaMov">verificaMov</a> :: [String] -&gt; (Int, Int) -&gt; <a href="Main.html#t:Command">Command</a> -&gt; [String]</li><li class="src short"><a href="#v:iToS">iToS</a> :: Int -&gt; Int -&gt; [String]</li><li class="src short"><a href="#v:colocaCaixa">colocaCaixa</a> :: [String] -&gt; (Int, Int) -&gt; [String]</li><li class="src short"><a href="#v:colocaCaixas">colocaCaixas</a> :: [String] -&gt; [(Int, Int)] -&gt; [String]</li><li class="src short"><a href="#v:tarefa4">tarefa4</a> :: [String] -&gt; [String]</li></ul></div><div id="interface"><h1 id="g:1">Fun&#231;&#245;es do mooshak</h1><div class="top"><p class="src"><a name="v:inStr" class="def">inStr</a> :: String -&gt; [String]</p><div class="doc"><p>Parte uma <code>String</code> numa lista de linhas</p></div></div><div class="top"><p class="src"><a name="v:outStr" class="def">outStr</a> :: [String] -&gt; String</p><div class="doc"><p>Junta uma lista de linhas numa <code>String</code></p></div></div><h1 id="g:2">Fun&#231;&#245;es de teste</h1><div class="top"><p class="src"><a name="v:correTestes" class="def">correTestes</a> :: IO ()</p><div class="doc"><p>Corre m&#250;ltiplos testes para as tr&#234;s tarefas</p></div></div><div class="top"><p class="src"><a name="v:correTeste" class="def">correTeste</a> :: ([String] -&gt; [String]) -&gt; String -&gt; IO ()</p><div class="doc"><p>Corre um teste para uma tarefa</p></div></div><h1 id="g:3">Fun&#231;&#245;es Tarefas</h1><div class="top"><p class="src"><a name="v:main" class="def">main</a> :: IO ()</p><div class="doc"><p>Chama as Tarefas 1, 2 e 3 </p></div></div><h1 id="g:4">Tarefa 1</h1><div class="top"><p class="src"><a name="v:tarefa1" class="def">tarefa1</a> :: [String] -&gt; [String]</p><div class="doc"><p>Tarefa onde &#233; suposto verificar se um dado mapa &#233; valido ou n&#227;o.</p></div></div><h1 id="g:5">Fun&#231;&#245;es da Tarefa 1</h1><div class="top"><p class="src"><a name="v:tarefa1Erros" class="def">tarefa1Erros</a> :: [String] -&gt; Int</p><div class="doc"><p>Devolve o n&#186; da linha que d&#225; erro.</p></div></div><div class="top"><p class="src"><a name="v:parteMapa" class="def">parteMapa</a> :: [String] -&gt; ([String], [String])</p><div class="doc"><p>Divide o mapa em tabuleiro e coordenadas. Para isso usamos a fun&#231;&#227;o splitAt...</p><pre>splitAt :: Int -&gt; [a] -&gt; ([a], [a])
</pre><pre>splitAt 3 [1,2,3,4,5] == ([1,2,3],[4,5])</pre></div></div><div class="top"><p class="src"><a name="v:contaListasMapa" class="def">contaListasMapa</a> :: [String] -&gt; Int</p><div class="doc"><p>Devolve o n&#186; de linhas do tabuleiro.</p><p>Nesta fun&#231;&#227;o usamos <em>isDigit</em> pertencente ao Data.Char para verificarmos se o elemento &#233; ou n&#227;o um algarismo (0,...9). </p></div></div><div class="top"><p class="src"><a name="v:contaListasBC" class="def">contaListasBC</a> :: [String] -&gt; Int</p><div class="doc"><p>Devolve o n&#186; de linhas de coordenadas.</p><p>Nesta fun&#231;&#227;o usamos <em>isDigit</em> pertencente ao Data.Char para verificarmos se o elemento &#233; ou n&#227;o um algarismo (0,...9). </p></div></div><div class="top"><p class="src"><a name="v:validaTab" class="def">validaTab</a> :: Int -&gt; [String] -&gt; Int -&gt; Int</p><div class="doc"><p>D&#225; o n&#186; da linha com o erro apos verificar as linhas do tabuleiro</p></div></div><div class="top"><p class="src"><a name="v:verificalength" class="def">verificalength</a> :: [String] -&gt; Int -&gt; Int</p><div class="doc"><p>Fun&#231;&#227;o que verifica se o tamanho das listas no tabuleiro &#233; sempre igual.</p></div></div><div class="top"><p class="src"><a name="v:validaLinhaTab" class="def">validaLinhaTab</a> :: Int -&gt; String -&gt; Int -&gt; Int</p><div class="doc"><p>Testa uma linha do tabuleiro. </p><p>Nesta fun&#231;&#227;o usamos <em>ord</em> que pertence ao Data.Char...</p><pre>ord :: Char -&gt; Int
</pre><p>Exemplos de utiliza&#231;&#227;o:</p><p>Se o char <code>a</code> for um # ent&#227;o:
<code>
ord a == 35
</code>
Se o char <code>a</code> for um espa&#231;o ent&#227;o:
<code>
ord a == 32
</code>
Se o char <code>a</code> for um . ent&#227;o:
<code>
ord a == 46
</code></p></div></div><div class="top"><p class="src"><a name="v:validaCoords" class="def">validaCoords</a> :: [String] -&gt; [String] -&gt; Int -&gt; Int</p><div class="doc"><p>Testa as coordenadas e devolve a linha em caso de haver erros.</p></div></div><div class="top"><p class="src"><a name="v:validaBoneco" class="def">validaBoneco</a> :: [(Int, Int)] -&gt; [(Int, Int)] -&gt; Int -&gt; Int</p><div class="doc"><p>Verifica se o boneco est&#225; dentro do mapa.</p></div></div><div class="top"><p class="src"><a name="v:validaCoordsT" class="def">validaCoordsT</a> :: [String] -&gt; Int -&gt; Int -&gt; Int</p><div class="doc"><p>Verifica se as coordenadas s&#227;o v&#225;lidas, ou seja, se s&#227;o dois n&#250;meros...</p></div></div><div class="top"><p class="src"><a name="v:sToI" class="def">sToI</a> :: String -&gt; [Int]</p><div class="doc"><p>Converte uma String numa lista de dois n&#250;meros.</p></div></div><div class="top"><p class="src"><a name="v:remInc" class="def">remInc</a> :: [String] -&gt; [String]</p><div class="doc"><p>Fun&#231;&#227;o que remove as coordenadas incorretas (as coordenadas que s&#243; tem um n&#250;mero ou as coordenadas que t&#234;m caracteres inv&#225;lidos).</p></div></div><div class="top"><p class="src"><a name="v:liToT" class="def">liToT</a> :: [Int] -&gt; (Int, Int)</p><div class="doc"><p>Recebe uma lista de dois numeros tuplos.</p></div></div><div class="top"><p class="src"><a name="v:devolveCaracter" class="def">devolveCaracter</a> :: String -&gt; Int -&gt; Int -&gt; Char</p><div class="doc"><p>Devolve o caracter de uma certa lista</p></div></div><div class="top"><p class="src"><a name="v:contalinhas" class="def">contalinhas</a> :: [String] -&gt; Int -&gt; Int -&gt; Int -&gt; String</p><div class="doc"><p>Devolve a linha correspondente ao n&#250;mero mas contando de baixo para cima...</p></div></div><div class="top"><p class="src"><a name="v:validaCaixas" class="def">validaCaixas</a> :: [String] -&gt; [String] -&gt; Int</p><div class="doc"><p>Verifica a correspondencia entre n&#186; de pontos no tabuleiro e coordenadas.</p></div></div><div class="top"><p class="src"><a name="v:numeroPontos" class="def">numeroPontos</a> :: [String] -&gt; Int</p><div class="doc"><p>Devolve o n&#250;mero de pontos existentes no mapa</p></div></div><div class="top"><p class="src"><a name="v:validaCaixasR" class="def">validaCaixasR</a> :: [(Int, Int)] -&gt; [(Int, Int)] -&gt; Int -&gt; Int -&gt; Int</p><div class="doc"><p>verifica se existe ou nao uma caixa sobreposta sobre o boneco ou sobre uma caixa.</p></div></div><div class="top"><p class="src"><a name="v:juntaErros" class="def">juntaErros</a> :: Int -&gt; Int -&gt; Int</p><div class="doc"><p>D&#225; o erro com menor</p></div></div><h1 id="g:6">Tarefa 2</h1><div class="top"><p class="src"><a name="v:tarefa2" class="def">tarefa2</a> :: [String] -&gt; [String]</p><div class="doc"><p>Tarefa onde &#233; suposto simplicar um mapa v&#225;lido.</p></div></div><h1 id="g:7">Fun&#231;&#245;es da Tarefa 2</h1><div class="top"><p class="src"><a name="v:daCoords" class="def">daCoords</a> :: Int -&gt; [String] -&gt; Int -&gt; [(Int, Int)]</p><div class="doc"><p>D&#225; as coordenadas de cada caracter do mapa numa lista.</p></div></div><div class="top"><p class="src"><a name="v:removeCardinais" class="def">removeCardinais</a> :: [String] -&gt; [(Int, Int)] -&gt; [String] -&gt; [String]</p><div class="doc"><p>Remove os cardinais desnecess&#225;rios do tabuleiro.</p></div></div><div class="top"><p class="src"><a name="v:removedalinha" class="def">removedalinha</a> :: String -&gt; [(Int, Int)] -&gt; [String] -&gt; String</p><div class="doc"><p>Remove os cardinais desnecess&#225;rios de uma linha...</p></div></div><div class="top"><p class="src"><a name="v:devolveCaracterB" class="def">devolveCaracterB</a> :: String -&gt; Int -&gt; Int -&gt; Char</p><div class="doc"><p>Fun&#231;&#227;o que devolve o caracter de uma certa lista.</p></div></div><div class="top"><p class="src"><a name="v:contalinhasB" class="def">contalinhasB</a> :: [String] -&gt; Int -&gt; Int -&gt; String</p><div class="doc"><p>Devolve a linha do n&#186; introduzido contando de cima para baixo.</p></div></div><div class="top"><p class="src"><a name="v:tuploCoord" class="def">tuploCoord</a> :: [String] -&gt; [(Int, Int)]</p><div class="doc"><p>Transforma as strings das coordenadas numa lista de tuplos.</p></div></div><div class="top"><p class="src"><a name="v:sndCoord" class="def">sndCoord</a> :: [(Int, Int)] -&gt; [Int]</p><div class="doc"><p>Transforma uma lista de tuplos numa lista com apenas os segundos elementos.</p></div></div><div class="top"><p class="src"><a name="v:devCoord" class="def">devCoord</a> :: Int -&gt; [(Int, Int)] -&gt; [(Int, Int)]</p><div class="doc"><p>Devolve os tuplos correspondentes ao n&#250;mero introduzido...</p></div></div><div class="top"><p class="src"><a name="v:colocaLetras" class="def">colocaLetras</a> :: [String] -&gt; [String] -&gt; Int -&gt; Int -&gt; [String]</p><div class="doc"><p>Coloca as letras no tabuleiro.</p></div></div><div class="top"><p class="src"><a name="v:colocaL" class="def">colocaL</a> :: Int -&gt; String -&gt; [(Int, Int)] -&gt; String</p><div class="doc"><p>Coloca as letras numa linha..</p></div></div><div class="top"><p class="src"><a name="v:colocaO" class="def">colocaO</a> :: String -&gt; (Int, Int) -&gt; String</p><div class="doc"><p>Coloca o sitio do boneco.</p></div></div><div class="top"><p class="src"><a name="v:colocaIH" class="def">colocaIH</a> :: String -&gt; (Int, Int) -&gt; String</p><div class="doc"><p>Coloca as letras I e H.</p></div></div><div class="top"><p class="src"><a name="v:auxP" class="def">auxP</a> :: (String, String) -&gt; String</p><div class="doc"><p>Insere o I numa lista.</p></div></div><div class="top"><p class="src"><a name="v:auxE" class="def">auxE</a> :: (String, String) -&gt; String</p><div class="doc"><p>Insere o H numa lista.</p></div></div><h1 id="g:8">Auxiliares da Tarefa 3</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Command" class="def">Command</a></p><div class="doc"><p>tipo criado em que U (Up), D(Down), L(Left), R(Right) e Nada(caso n&#227;o seja nenhum dos casos)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:U" class="def">U</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:D" class="def">D</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:L" class="def">L</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:R" class="def">R</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Nada" class="def">Nada</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Command" class="caption collapser" onclick="toggleSection('i:Command')">Instances</p><div id="section.i:Command" class="show"><table><tr><td class="src clearfix"><span class="inst-left">Show <a href="Main.html#t:Command">Command</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:9">Tarefa 3</h1><div class="top"><p class="src"><a name="v:tarefa3" class="def">tarefa3</a> :: [String] -&gt; [String]</p><div class="doc"><p>Tarefa onde &#233; suposto calcular o pr&#243;ximo estado do boneco dado um certo comando.</p></div></div><h1 id="g:10">Fun&#231;&#245;es da Tarefa 3</h1><div class="top"><p class="src"><a name="v:parteMapaB" class="def">parteMapaB</a> :: [String] -&gt; ([String], [String])</p><div class="doc"><p>Parte mapa em tabuleiro e coordenadas com o comando.</p></div></div><div class="top"><p class="src"><a name="v:converteC" class="def">converteC</a> :: String -&gt; <a href="Main.html#t:Command">Command</a></p><div class="doc"><p>Converte o valor da string para o tipo command.</p></div></div><div class="top"><p class="src"><a name="v:parteCo" class="def">parteCo</a> :: [String] -&gt; String</p><div class="doc"><p>Devolve a string com a coordenada do boneco inicial.</p></div></div><div class="top"><p class="src"><a name="v:remVazio" class="def">remVazio</a> :: [String] -&gt; [String]</p><div class="doc"><p>Remove listas vazias.</p></div></div><div class="top"><p class="src"><a name="v:moveB" class="def">moveB</a> :: [String] -&gt; String -&gt; <a href="Main.html#t:Command">Command</a> -&gt; [(Int, Int)] -&gt; [String]</p><div class="doc"><p>Movimenta o boneco.</p></div></div><div class="top"><p class="src"><a name="v:verificaMov" class="def">verificaMov</a> :: [String] -&gt; (Int, Int) -&gt; <a href="Main.html#t:Command">Command</a> -&gt; [String]</p><div class="doc"><p>Verifica se o movimento &#233; v&#225;lido...</p></div></div><div class="top"><p class="src"><a name="v:iToS" class="def">iToS</a> :: Int -&gt; Int -&gt; [String]</p><div class="doc"><p>Transforma dois n&#250;meros inteiros numa string com um espa&#231;o no meio.</p></div></div><div class="top"><p class="src"><a name="v:colocaCaixa" class="def">colocaCaixa</a> :: [String] -&gt; (Int, Int) -&gt; [String]</p><div class="doc"><p>Coloca as caixas numa linha.</p></div></div><div class="top"><p class="src"><a name="v:colocaCaixas" class="def">colocaCaixas</a> :: [String] -&gt; [(Int, Int)] -&gt; [String]</p><div class="doc"><p>Coloca as caixas no mapa.</p></div></div><div class="top"><p class="src"><a name="v:tarefa4" class="def">tarefa4</a> :: [String] -&gt; [String]</p><div class="doc"><p>Tarefa 4</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>